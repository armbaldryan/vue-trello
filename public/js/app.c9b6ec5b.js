(function(e){function t(t){for(var r,i,n=t[0],l=t[1],d=t[2],u=0,m=[];u<n.length;u++)i=n[u],s[i]&&m.push(s[i][0]),s[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(m.length)m.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},s={app:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var d=0;d<n.length;d++)t(n[d]);var c=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"122d":function(e,t,a){},"15b2":function(e,t,a){"use strict";var r=a("e8ed"),s=a.n(r);s.a},"56d7":function(e,t,a){"use strict";a.r(t);var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{color:"indigo darken-2",dark:"","max-height":"70"}},[a("v-toolbar-title",[e._v("Vue Trello")]),a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-magnify")])],1),this.$store.getters.user?e._e():a("v-menu",{attrs:{left:"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{icon:""}},r),[a("v-icon",[e._v("mdi-account")])],1)]}}],null,!1,2166920326)},[a("v-list",e._l(e.menuItems,function(t){return a("v-list-item",{key:t.route,attrs:{to:t.route}},[a("v-list-item-title",[e._v(e._s(t.name))])],1)}),1)],1),this.$store.getters.user?a("v-btn",{on:{click:e.logOut}},[e._v("Log Out")]):e._e()],1),a("v-content",[a("router-view")],1)],1)},o=[],i={name:"App",data:()=>({menuItems:[{name:"Log in",route:"login"},{name:"Registration",route:"registration"}]}),beforeMount(){window.localStorage.getItem("userId")&&this.$router.push("/")},methods:{logOut(){this.$store.dispatch("logoutUser"),this.$router.push("/login")}}},n=i,l=a("2877"),d=a("6544"),c=a.n(d),u=a("7496"),m=a("40dc"),p=a("8336"),v=a("a75b"),f=a("132d"),g=a("8860"),h=a("da13"),b=a("5d23"),w=a("e449"),x=a("2a7f"),y=Object(l["a"])(n,s,o,!1,null,null,null),V=y.exports;c()(y,{VApp:u["a"],VAppBar:m["a"],VBtn:p["a"],VContent:v["a"],VIcon:f["a"],VList:g["a"],VListItem:h["a"],VListItemTitle:b["b"],VMenu:w["a"],VToolbarTitle:x["a"]});var _=a("8c4f"),O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("SideBar"),this.$store.getters.loading?[a("Loading")]:e._e(),a("Boards")],2)},k=[],E=a("2f62"),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-navigation-drawer",{attrs:{"expand-on-hover":"",absolute:"",permanent:"",left:""}},[a("v-list",{attrs:{dense:""}},e._l(e.items,function(t){return a("v-list-item",{key:t.title,on:{click:function(a){a.preventDefault(),t.route?e.routeHandler(t.route):e.clickHandler()}}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1)}),1)],1),e.isModalOpen?a("Modal",{attrs:{isOpen:e.isModalOpen,setOpen:e.setOpen,saveHandler:e.saveHandler,saveDisabled:e.valid}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Add new Board")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{validation:""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-email",name:"title",label:"Title",rules:e.fieldRules},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-key",name:"description",label:"Description",type:"description",rules:e.fieldRules},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1)],1)],1):e._e()],1)},C=[],L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[e._t("default"),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),e.saveHandler?a("v-btn",{attrs:{color:"primary darken-1",text:"",disabled:!e.saveDisabled},on:{click:function(t){return e.saveHandler()}}},[e._v("Save")]):e._e(),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.setOpen(!1)}}},[e._v("Close")])],1)],2)],1)],1)},I=[],B={data(){return{dialog:this.isOpen}},props:{setOpen:Function,isOpen:Boolean,saveHandler:Function,saveDisabled:Boolean},watch:{isOpen:function(e){e!==this.dialog&&(this.dialog=e)},dialog:function(e){e!==this.isOpen&&this.setOpen(!1)}}},P=B,T=a("b0af"),j=a("99d9"),S=a("169a"),R=a("0fd9"),A=Object(l["a"])(P,L,I,!1,null,null,null),U=A.exports;c()(A,{VBtn:p["a"],VCard:T["a"],VCardActions:j["a"],VDialog:S["a"],VRow:R["a"]});var M={data:()=>({isModalOpen:!1,items:[{title:"Boards",icon:"mdi-clipboard",route:"/"},{title:"Create Board",icon:"mdi-clipboard-text"}],title:"",description:"",valid:!1,fieldRules:[e=>!!e||"Field is required"]}),components:{Modal:U},methods:{routeHandler(e){return this.$router.push(e)},clickHandler(){this.isModalOpen=!0},setOpen(e){!1===e&&(this.title="",this.description=""),this.isModalOpen=e},saveHandler(){this.$store.dispatch("createBoard",{title:this.title,description:this.description}).then(()=>this.setOpen(!1))}}},F=M,H=a("0e8f"),q=a("4bd4"),D=a("34c3"),z=a("f774"),J=a("8654"),W=a("71d9"),K=Object(l["a"])(F,$,C,!1,null,null,null),N=K.exports;c()(K,{VCardText:j["b"],VFlex:H["a"],VForm:q["a"],VIcon:f["a"],VList:g["a"],VListItem:h["a"],VListItemContent:b["a"],VListItemIcon:D["a"],VListItemTitle:b["b"],VNavigationDrawer:z["a"],VTextField:J["a"],VToolbar:W["a"],VToolbarTitle:x["a"]});var Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-wrap ml-100"},e._l(this.$store.getters.boards,function(t,r){return a("v-card",{key:r,staticClass:"mr-10 mb-10",attrs:{"max-width":"250"}},[a("v-img",{staticClass:"white--text",attrs:{height:"200px",src:"https://cdn.vuetifyjs.com/images/cards/docks.jpg"}},[a("v-card-title",{staticClass:"align-end fill-height"},[e._v(e._s(t.title))])],1),a("v-card-text",[a("span",[e._v(e._s(t.description))])]),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"orange"}},[e._v("Open")])],1)],1)}),1)},Z=[],G={data:()=>({boards:[]}),beforeCreate(){console.log(this.$store.getters.boards),this.$store.dispatch("fetchBoardsById",this.$store.getters.user.id)}},Q=G,X=(a("15b2"),a("adda")),ee=Object(l["a"])(Q,Y,Z,!1,null,null,null),te=ee.exports;c()(ee,{VBtn:p["a"],VCard:T["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VImg:X["a"]});var ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loading-wrapper"},[a("v-progress-circular",{attrs:{indeterminate:"",size:100,width:3,color:"purple"}})],1)},re=[],se={name:"loading"},oe=se,ie=(a("c39c"),a("490a")),ne=Object(l["a"])(oe,ae,re,!1,null,"779adaf4",null),le=ne.exports;c()(ne,{VProgressCircular:ie["a"]});var de={data:()=>({}),computed:{...Object(E["b"])({bldux:e=>e.a,b:e=>e.b})},components:{SideBar:N,Boards:te,Loading:le},mounted(){this.message="6666"}},ce=de,ue=a("a523"),me=Object(l["a"])(ce,O,k,!1,null,null,null),pe=me.exports;c()(me,{VContainer:ue["a"]});var ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Login form")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{validation:""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-email",name:"email",label:"Email",type:"email",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-key",name:"password",label:"Password",type:"password",counter:6,rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:!e.valid||e.loading},on:{click:e.onSubmit}},[e._v("Login")])],1)],1)],1)],1)],1)},fe=[];const ge=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;var he={data(){return{email:"",password:"",valid:!1,emailRules:[e=>!!e||"E-mail is required",e=>ge.test(e)||"E-mail must be valid"],passwordRules:[e=>!!e||"Password is required",e=>e&&e.length>=6||"Password must be equal or more than 6 characters"]}},computed:{loading(){return this.$store.getters.loading}},methods:{onSubmit(){if(this.$refs.form.validate()){const e={email:this.email,password:this.password};this.$store.dispatch("loginUser",e).then(()=>{console.log(this.$store),this.$router.push("/")}).catch(()=>{})}}},created(){this.$route.query["loginError"]&&this.$store.dispatch("setError","Please log in to access this page.")}},be=he,we=a("a722"),xe=a("2fa4"),ye=Object(l["a"])(be,ve,fe,!1,null,null,null),Ve=ye.exports;c()(ye,{VBtn:p["a"],VCard:T["a"],VCardActions:j["a"],VCardText:j["b"],VContainer:ue["a"],VFlex:H["a"],VForm:q["a"],VLayout:we["a"],VSpacer:xe["a"],VTextField:J["a"],VToolbar:W["a"],VToolbarTitle:x["a"]});var _e={state:{loading:!1,error:null},mutations:{setLoading(e,t){e.loading=t},setError(e,t){e.error=t},clearError(e){e.error=null}},actions:{setLoading({commit:e},t){e("setLoading",t)},setError({commit:e},t){e("setError",t)},clearError({commit:e}){e("clearError")}},getters:{loading(e){return e.loading},error(e){return e.error}}},Oe=a("8aa5"),ke=a.n(Oe);class Ee{constructor(e){this.id=e}}var $e={state:{user:null},mutations:{setUser(e,t){e.user=t}},actions:{async registerUser({commit:e},{email:t,password:a}){e("clearError"),e("setLoading",!0);try{const s=await Oe["auth"]().createUserWithEmailAndPassword(t,a);e("setUser",new Ee(s.uid)),e("setLoading",!1)}catch(r){throw e("setLoading",!1),e("setError",r.message),r}},async loginUser({commit:e},{email:t,password:a}){e("clearError"),e("setLoading",!0);try{const s=await Oe["auth"]().signInWithEmailAndPassword(t,a);e("setUser",{id:s.user.uid}),window.localStorage.setItem("userId",s.user.uid),e("setLoading",!1)}catch(r){throw e("setLoading",!1),e("setError",r.message),r}},logoutUser({commit:e}){Oe["auth"]().signOut(),window.localStorage.setItem("userId",null),e("setUser",null)}},getters:{user(e){return e.user}}},Ce={state:{boards:[]},mutations:{createBoard(e,t){e.boards.push(t)},loadBoards(e,t){e.boards=t}},actions:{async createBoard({commit:e,getters:t},a){e("clearError"),e("setLoading",!0);try{const s={title:a.title,description:a.description,user:t.user.id};console.log(s),await Oe["database"]().ref(`boards/${t.user.id}`).push(s),e("createBoard",s),e("setLoading",!1)}catch(r){throw e("setError",r.message),e("setLoading",!1),r}},async fetchBoardsById({commit:e},t){e("clearError"),e("setLoading",!0);try{const r=await Oe["database"]().ref(`boards/${t}`).once("value"),s=r.val();e("loadBoards",Object.values(s)),e("setLoading",!1)}catch(a){throw e("setError",a.message),e("setLoading",!1),a}},async updateAd({commit:e},{title:t,description:a,id:r}){e("clearError"),e("setLoading",!0);try{await Oe["database"]().ref("ads").child(r).update({title:t,description:a}),e("updateAd",{title:t,description:a,id:r}),e("setLoading",!1)}catch(s){throw e("setError",s.message),e("setLoading",!1),s}}},getters:{boards(e){return e.boards}}};r["a"].use(E["a"]);var Le=new E["a"].Store({state:{count:5},mutations:{},actions:{},modules:{shared:_e,user:$e,boards:Ce}});async function Ie(e,t,a){window.localStorage.getItem("userId")?(a(),Le.getters.user||Le.commit("setUser",{id:window.localStorage.getItem("userId")})):a("/login?loginError=true")}var Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Registration form")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-email",name:"email",label:"Email",type:"email",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-key",name:"password",label:"Password",type:"password",counter:6,rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-key",name:"confirm-password",label:"Confirm Password",type:"password",counter:6,rules:e.confirmPasswordRules},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:!e.valid||e.loading},on:{click:e.onSubmit}},[e._v("Create account!")])],1)],1)],1)],1)],1)},Pe=[];const Te=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;var je={data(){return{email:"",password:"",confirmPassword:"",valid:!1,emailRules:[e=>!!e||"E-mail is required",e=>Te.test(e)||"E-mail must be valid"],passwordRules:[e=>!!e||"Password is required",e=>e&&e.length>=6||"Password must be equal or more than 6 characters"],confirmPasswordRules:[e=>!!e||"Password is required",e=>e===this.password||"Password should match"]}},computed:{loading(){return this.$store.getters.loading}},methods:{onSubmit(){if(this.$refs.form.validate()){const e={email:this.email,password:this.password};this.$store.dispatch("registerUser",e).then(()=>{this.$router.push("/")}).catch(()=>{})}}}},Se=je,Re=Object(l["a"])(Se,Be,Pe,!1,null,null,null),Ae=Re.exports;c()(Re,{VBtn:p["a"],VCard:T["a"],VCardActions:j["a"],VCardText:j["b"],VContainer:ue["a"],VFlex:H["a"],VForm:q["a"],VLayout:we["a"],VSpacer:xe["a"],VTextField:J["a"],VToolbar:W["a"],VToolbarTitle:x["a"]}),r["a"].use(_["a"]);var Ue=new _["a"]({mode:"history",base:"/",routes:[{exact:!0,path:"/",name:"home",component:pe,beforeEnter:Ie},{exact:!0,path:"/login",name:"login",component:Ve},{exact:!0,path:"/registration",name:"registration",component:Ae}]}),Me=a("f309");r["a"].use(Me["a"]);var Fe=new Me["a"]({icons:{iconfont:"mdi"}});r["a"].config.productionTip=!1,new r["a"]({router:Ue,store:Le,data:{title:"aaa"},beforeCreate(){var e={apiKey:"AIzaSyCqI-uh93ubs8zZcS2HJb0P3mW-Y2pU65s",authDomain:"vue-trello-arm.firebaseapp.com",databaseURL:"https://vue-trello-arm.firebaseio.com",projectId:"vue-trello-arm",storageBucket:"vue-trello-arm.appspot.com",messagingSenderId:"926242816433",appId:"1:926242816433:web:8b197e3b901b8860"};ke.a.initializeApp(e)},vuetify:Fe,render:e=>e(V)}).$mount("#app")},c39c:function(e,t,a){"use strict";var r=a("122d"),s=a.n(r);s.a},e8ed:function(e,t,a){}});
//# sourceMappingURL=app.c9b6ec5b.js.map